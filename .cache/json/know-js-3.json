{
    "data": {
        "markdownRemark": {
            "id": "/Users/macbookpro/Documents/git/Blog/content/posts/2017-11-25--you-dont-know-js3/index.md absPath of file >>> MarkdownRemark",
            "html": "<h2>异步与单线程</h2>\n<p>几个问题</p>\n<ul>\n<li>同步和异步的区别</li>\n<li>使用异步的场景</li>\n<li>获取2017-11-11的格式日期</li>\n<li>获取随机数，要求是长度一致的字符串格式</li>\n<li>\n<p>写一个能遍历对象和数组的通用foreach函数</p>\n<h3>异步</h3>\n</li>\n<li>\n<p>由于js是单线程,所以需要异步，比如Ajax,好处就是节约时间，不会阻塞</p>\n<h3>获取日期格式</h3>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-js\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">formateDate</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> year <span class=\"token operator\">=</span> date<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> month <span class=\"token operator\">=</span> date<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">var</span> day <span class=\"token operator\">=</span> date<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>month <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    month <span class=\"token operator\">=</span> <span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> month\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>day <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    day <span class=\"token operator\">=</span> <span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> date\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">return</span> year <span class=\"token operator\">+</span> <span class=\"token string\">'-'</span> <span class=\"token operator\">+</span> month <span class=\"token operator\">+</span> <span class=\"token string\">'-'</span> day\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> Date <span class=\"token operator\">=</span> <span class=\"token function\">formateDate</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">)</span>\n</code></pre>\n      </div>\n<h3>长度一致的字符串格式</h3>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-js\"><code><span class=\"token keyword\">var</span> random <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> random <span class=\"token operator\">=</span> random <span class=\"token operator\">+</span> <span class=\"token string\">'0000000000'</span>\n<span class=\"token keyword\">var</span> random <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>random<span class=\"token punctuation\">)</span>\n</code></pre>\n      </div>\n<h3>foreach函数</h3>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-js\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">var</span> key\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>obj <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    obj<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>key <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> obj<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>\n</li>\n</ul>",
            "frontmatter": {
                "title": "JS基础查缺补漏--异步与单线程",
                "subTitle": "掌握了解js运行机制，才能更加方便你去理解和编写代码。",
                "date": "November 25, 2017",
                "cover": {
                    "childImageSharp": {
                        "resize": {
                            "src": "/static/knowjs-181f9e8beb83dce635b6bf0d02b7d815-160fa.png"
                        }
                    }
                }
            }
        }
    },
    "pathContext": {
        "path": "/know-js-3/"
    }
}